<!DOCTYPE HTML>
<html>  
<head>
    <link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>
    <div id="container"></div>
    <div id="features">  
  		<button id="addtextbutton">Add Text</button>
        <button id="getInfo">Get Info</button>  
	</div>
	<div id="textedit">
        Text:<br/>
        <textarea id="textedit_textfield"></textarea></br>
        Font:</br>
        <select id="textedit_fontfield">
            <option>Arial</option>
            <option>Verdana</option>
            <option>Calibri</option>

            <option>Microsoft YaHei</option>
            <option>Microsoft JhengHei</option>
            <option>FangSong</option>
            <option>SimHei</option>
            <option>SimSun</option>
            <option>NSimSun</option>
            <option>KaiTi</option>
            <option>PMingLiU</option>
            <option>MingLiU</option>
            <option>DFKai-SB</option>
            <option>KaiTi_GB2312</option>
            <option>FangSong_GB2312</option>

            <option>STXihei</option>
            <option>STHeiti Light</option>
            <option>STHeiti</option>
            <option>STKaiti</option>
            <option>STSong</option>
            <option>STFangsong</option>
            <option>LiHei Pro Medium</option>
            <option>LiSong Pro Light</option>
            <option>BiauKai</option>
            <option>Apple LiGothic Medium</option>
            <option>Apple LiSung Light</option>


            <option>FZDaBiaoSong-B06S</option>
            <option>FZZongYi-M05S</option>
            <option>FZXiHei</option>
            <option>STXinwei</option>
            <option>LiSu</option>
            <option>汉真广标</option>
            <option>仿宋</option>
        </select></br>
        Font Size:</br>
        <input id="textedit_fontsize"></br>
        <button id="deletetext">Delete</button>
        <p id="exittextedit">EXIT</p>
    </div>

    <script src="jquery.js"></script>
    <script src="kinetic.js"></script>  
    <script src="main.js" defer="defer"></script>
    <script type="text/javascript">
        $('#getInfo').click(function () {
            console.log(current.layer);
            current.stage.setScale({ x: 0.5, y: 0.5 });
            current.stage.draw();

            var cr = current.layer.getChildren();
            console.log(cr[0].getWidth() + ":" + cr[0].getHeight());
            console.log(cr[0].getTextWidth() + ":" + cr[0].getTextHeight());
            console.log(cr[0]);

            var textoptions = [];
            textoptions['text'] = '中华人民共和国';
            textoptions['width'] = 999;
            textoptions['fontFamily'] = 'Arial';
            textoptions['fontSize'] = 35;
            textoptions['x'] = cr[0].x();
            textoptions['y'] = cr[0].y() + cr[0].getHeight();
            textadd = AddText(textoptions);
            render_element(textadd, current.stage, current.layer);

            textoptions['text'] = '中华人民共和国';
            textoptions['width'] = 999;
            textoptions['fontFamily'] = 'Arial';
            textoptions['fontSize'] = 50;
            textoptions['x'] = cr[0].x() + cr[0].getTextWidth();
            textoptions['y'] = cr[0].y();
            textadd = AddText(textoptions);
            render_element(textadd, current.stage, current.layer);

            current.layer.getChildren().forEach(function (element, index, array) {
                console.log(element.getWidth() + ":" + element.getHeight());
                console.log(element.getTextWidth() + ":" + element.getTextHeight());
                console.log(element);
            });
        });
    </script>
</body>
</html>